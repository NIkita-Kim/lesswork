#!/usr/bin/env node

const work = require('lesswork-cmd');

const Commands = require('lesswork-framework/Console/Kernel');

const AppCommands = require('./app/Console/Kernel');

Object.keys(Commands).forEach((name) => {
  work.addCommand(Commands[name]);
});

Object.keys(AppCommands).forEach((name) => {
  work.addCommand(AppCommands[name]);
});

work.onError(function (error, commandName) {
  console.log(`${commandName} reported ${error.message}`);
  process.exit(1);
});

work.wireUpWithCommander();

work.invoke();